#!/usr/bin/python
# coding:utf-8
from urllib.request import urlopen
from bs4 import BeautifulSoup
import sys
import getopt
import re


def main():

    try:
        opts, args = getopt.getopt(sys.argv[1:], 'u:h')
    except getopt.GetoptError as err:
        print(str(err))
        sys.exit(2)

    for o, a in opts:
        if o == "-u":
            url = a
            html = urlopen(url)
            bsObj = BeautifulSoup(html)
            for link in bsObj.find("div",{"id":"bodyContent")).findAll("a",href=re.compile("^(/wiki/)((?!:).)*$")):
                if 'href' in link.attrs:
                    print(link.attrs['href'])


if __name__ == "__main__":
    main()
